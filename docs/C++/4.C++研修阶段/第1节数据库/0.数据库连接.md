# Mysql
**è®¾ç½®M ySQL çš„å®‰è£…è·¯å¾„å’Œæ•°æ®å­˜å‚¨è·¯å¾„ï¼Œç¡®ä¿è·¯å¾„ä¸­æ²¡æœ‰ä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦ã€‚**
**è®¾ç½®M ySQL çš„å®‰è£…è·¯å¾„å’Œæ•°æ®å­˜å‚¨è·¯å¾„ï¼Œç¡®ä¿è·¯å¾„ä¸­æ²¡æœ‰ä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦ã€‚**
**è®¾ç½®M ySQL çš„å®‰è£…è·¯å¾„å’Œæ•°æ®å­˜å‚¨è·¯å¾„ï¼Œç¡®ä¿è·¯å¾„ä¸­æ²¡æœ‰ä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦ã€‚**
## **1.å®‰è£…**
å®˜ç½‘ç½‘å€ï¼šä¸‹è½½**server**[MySQL :: Download MySQL Community Server](https://dev.mysql.com/downloads/mysql/)
é€‰æ‹©ï¼š**MySQL Installer for Windows**
![[public/images/Pasted image 20251211161133.png]]
### **å®‰è£…è¿‡ç¨‹**

**å¯åŠ¨å®‰è£…ç¨‹åºåï¼š**
#### **æ­¥éª¤1ï¼šé€‰æ‹©å®‰è£…ç±»å‹**

- é€‰æ‹©ï¼š**Developer Default**ï¼ˆå¼€å‘è€…é»˜è®¤ï¼ŒåŒ…å«MySQL Serverã€Workbenchç­‰ï¼‰**ï¼ˆé»˜è®¤Cç›˜ï¼‰**
- æˆ–é€‰æ‹©ï¼š**Custom**ï¼ˆè‡ªå®šä¹‰ï¼Œå¯ä»¥åªè£…Serverï¼‰ï¼ˆ**å¯ä»¥æ”¹æ–‡ä»¶ä½ç½®**ï¼‰
#### **æ­¥éª¤2ï¼šæ£€æŸ¥ä¾èµ–**

- å¦‚æœæç¤ºç¼ºå°‘Visual C++ï¼Œç‚¹å‡»Executeè‡ªåŠ¨å®‰è£…
#### **æ­¥éª¤3ï¼šå®‰è£…**

- ç‚¹å‡»Executeå¼€å§‹å®‰è£…æ‰€æœ‰ç»„ä»¶

ä¹‹åæ˜¯é…ç½®é¢æ¿

![[public/images/Pasted image 20251211161330.png]]
ä¹‹åé…ç½®è·¯å¾„
#### **æ­¥éª¤4ï¼šé…ç½®MySQL Server*
**Type and Networkingï¼š**
- Config Type: **Development Computer**
- Port: **3306**ï¼ˆé»˜è®¤ï¼‰
- å‹¾é€‰ï¼š**Open Windows Firewall ports**
å¯ä»¥å‚è€ƒæˆ‘çš„  ç«¯å£å·ä¸è¦æ”¹å˜ é»˜è®¤å³å¯ 3306
![[public/images/Pasted image 20251211162130.png]]
ä¹‹åå¯†ç 
è®¾ç½®rootå¯†ç ï¼š**è®¾ç½®ä¸€ä¸ªä½ èƒ½è®°ä½çš„å¯†ç **ï¼ˆé‡è¦ï¼ï¼‰
ç®€å•çš„å³å¯ï¼Œæ²¡äººè®°ä½ çš„ 
æ¯”å¦‚123123  123456ç­‰ç­‰éšæ„
å¯ä»¥æ·»åŠ å…¶ä»–ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰
ç„¶å**next**
Nextä¹‹å
**Windows Serviceï¼š**
- å‹¾é€‰ï¼š**Configure MySQL Server as a Windows Service**
- Service Name: **MySQL80**ï¼ˆæ•°æ®åº“åå­— å°½é‡ä¸è¦å‡ºç°ä¸­æ–‡ï¼‰
- å‹¾é€‰ï¼š**Start the MySQL Server at System Startup**
  å‚è€ƒ
  ![[public/images/Pasted image 20251211162614.png]]
- **ä¹‹ånext next**
- #### **æ­¥éª¤5ï¼šApply Configuration**
- ç‚¹å‡»Executeåº”ç”¨é…ç½®
- ç­‰å¾…å®Œæˆåç‚¹å‡»Finish
- ![[public/images/Pasted image 20251211162719.png]]
ä¹‹åæ‰“å¼€CMD
win+R è¾“å…¥cmd
è¾“å…¥
```sql
mysql --version
```
å¦‚æœæ²¡æ˜¾ç¤ºç‰ˆæœ¬å·ç­‰ï¼Œé‚£å°±è¯´æ˜æ²¡æœ‰è®¾ç½®ç¯å¢ƒå˜é‡
- #### **æ­¥éª¤6ï¼šè®¾ç½®ç¯å¢ƒå˜é‡**
- **win+i**  ç³»ç»Ÿ-ã€‹é«˜çº§ç³»ç»Ÿè®¾ç½®->ç¯å¢ƒå˜é‡-> ç³»ç»Ÿå˜é‡->æ‰¾åˆ°Path åŒå‡» ä¹‹åç‚¹å‡»æ–°å»º
  ä¹‹åè¾“å…¥ä½ MySQLå®‰è£…çš„ä½ç½®çš„**bin**ç›®å½• å¤åˆ¶ å¡«å…¥æ–°å»º ç„¶åç¡®å®š ç¡®å®š ç¡®å®š
- æˆ–è€…å‚è€ƒè¿™ä¸ª
- å³é”®ç‚¹å‡»â€œæ­¤ç”µè„‘â€é€‰æ‹©â€œå±æ€§â€ï¼Œç‚¹å‡»â€œé«˜çº§ç³»ç»Ÿè®¾ç½®â€ã€‚ åœ¨ç³»ç»Ÿå±æ€§çª—å£ä¸­ï¼Œç‚¹å‡»â€œç¯å¢ƒå˜é‡â€ã€‚ åœ¨â€œç³»ç»Ÿå˜é‡â€åŒºåŸŸæ‰¾åˆ° Path å˜é‡ï¼Œç‚¹å‡»â€œç¼–è¾‘â€ï¼Œåœ¨æ‰“å¼€çš„çª—å£ä¸­ç‚¹å‡»â€œæ–°å»ºâ€ï¼Œæ·»åŠ  MySQL çš„binç›® å½•è·¯å¾„ï¼ˆä¾‹å¦‚ C:\Program Files\MySQL\MySQL Server 8.0\binï¼‰ã€‚ ç¡®è®¤ç¯å¢ƒå˜é‡è®¾ç½®åï¼Œé‡æ–°æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ mysql --version ç¡®è®¤ç¯å¢ƒå˜é‡é…ç½®æˆåŠŸ
![[public/images/Pasted image 20251211163340.png]]![[Pasted image 20251211163506.png]]
åŒå‡» ä¹‹åç‚¹å‡»æ–°å»º
  ä¹‹åè¾“å…¥ä½ MySQLå®‰è£…çš„ä½ç½®çš„**bin**ç›®å½• å¤åˆ¶
![[public/images/Pasted image 20251211163717.png]]![[public/images/Pasted image 20251211163735.png]]
ä¹‹åæ‰“å¼€CMD
win+R è¾“å…¥cmd
è¾“å…¥
```sql
mysql --version


```
![[public/images/Pasted image 20251211164001.png]]

- #### éªŒè¯å®‰è£…
 æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆ cmd ï¼‰ï¼Œè¾“å…¥ mysql -u ä½ åœ¨é…ç½®çš„æ—¶å€™è¾“å…¥çš„ç”¨æˆ·å -på‘½ä»¤ï¼Œè¾“å…¥ä¹‹å‰è®¾ç½®çš„å¯† ç ç™»å½• MySQL ã€‚ è¾“å…¥s tatus å‘½ä»¤æŸ¥çœ‹ MySQL çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œç¡®è®¤å®‰è£…æˆåŠŸã€‚
**mysql -u root -p** ç„¶åå¯†ç 
![[public/images/Pasted image 20251211164451.png]]

æ•°æ®åº“å¯è§†åŒ–é¢æ¿ ä¸‹è½½åœ°å€ï¼š https://dev.mysql.com/downloads/file/?id=528765  è‡ªå·±å®‰è£…ï¼ˆ**åªæ˜¯å¯è§†åŒ–çš„ï¼Œåç»­çš„æ–¹ä¾¿éªŒè¯ï¼Œè¾…åŠ©å·¥å…·**ï¼‰
![[public/images/Pasted image 20251211164728.png]]
ç„¶åæ‰“å¼€å°±æ˜¯ä¸‹è½½çš„å¯è§†åŒ–çš„
![[public/images/Pasted image 20251211165843.png]]
ä¹‹åç‚¹å‡» **+**
![[public/images/Pasted image 20251211170100.png]]![[public/images/Pasted image 20251211170410.png]]
å…¶ä»–ä¸å˜
ä½†è¦ä¿è¯åœ°å€å¿…é¡»æ˜¯å®ƒ**127.0.0.1**  æœ¬åœ°åœ°å€
ç„¶å**OK**
![[public/images/Pasted image 20251211170647.png]]

## **2.C++/C APIæ¥å£**
å‚è€ƒ
å…¶ä¸­ä¸ä½¿ç”¨C++çš„æ¥å£è€Œæ˜¯Cçš„æ¥å£ï¼Œå› ä¸ºéš¾ç”¨C++ä¹Ÿå¯ä»¥ä½¿ç”¨Cçš„
ä¸ºä»€ä¹ˆä¸‹è½½API ï¼Œå› ä¸ºç›´æ¥åœ¨ç»ˆç«¯æ“ä½œæ•°æ®åº“å¾ˆéº»çƒ¦ï¼Œç¨‹åºå‘˜å†™è„šæœ¬æœ€å¿«äº†å°±æ˜¯èŠ±æ—¶é—´å»è§£å†³ä»¥åæ— æ•°ä¸ªå°éº»çƒ¦
![[public/images/Pasted image 20251211171327.png]]

## **3.pythonçš„APIæ¥å£**

#### ç¬¬ä¸€æ­¥ï¼šå®‰è£…Pythonçš„MySQLè¿æ¥åº“
åœ¨VS Codeä¸­æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œè¾“å…¥ï¼š
```bash
pip install pymysql
```
æˆ–è€…
```bash
pip install mysql-connector-python
```

ï¼ˆæ¨èç”¨ç¬¬ä¸€ä¸ªpymysqlï¼Œæ›´ç®€å•ï¼‰
#### ç¬¬äºŒæ­¥ï¼šæµ‹è¯•æ•°æ®åº“è¿æ¥

åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ `test_db.py`ï¼š

```python
import pymysql

# æµ‹è¯•è¿æ¥
try:
    conn = pymysql.connect(
        host='127.0.0.1',
        port=3306,
        user='root',
        password='123123',
        database='keshe'
    )
    print("æ•°æ®åº“è¿æ¥æˆåŠŸï¼")
    conn.close()
except Exception as e:
    print(f"è¿æ¥å¤±è´¥ï¼š{e}")
```
è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼š
```bash
python test_db.py
```
#### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨
å¦‚æœè¿æ¥å¤±è´¥ï¼Œç»§ç»­å¾€åçœ‹
å¦‚æœè¿æ¥æˆåŠŸï¼Œ
##### **åˆ›å»ºæ•°æ®åº“**
åœ¨Workbenchä¸­æ‰§è¡Œï¼š
```sql
CREATE DATABASE ä½ çš„æ•°æ®åº“åå¦‚keshe CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
CREATE DATABASE keshe CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
```
**æ“ä½œæ­¥éª¤ï¼š**
1. åœ¨Workbenchä¸­æ‰“å¼€ä¸€ä¸ªæ–°çš„Queryæ ‡ç­¾
2. è¾“å…¥ä¸Šé¢çš„å‘½ä»¤
3. ç‚¹å‡»æ‰§è¡Œ âš¡
4. å·¦ä¾§SCHEMASç‚¹å‡»åˆ·æ–°æŒ‰é’® ğŸ”„
5. åº”è¯¥èƒ½çœ‹åˆ° `keshe` æ•°æ®åº“äº†

ç¤ºä¾‹åˆ›å»º `create_tables.py`ï¼š

```python
import pymysql

conn = pymysql.connect(
    host='127.0.0.1',
    port=3306,
    user='root',
    password='123123',
    database='keshe'
)

cursor = conn.cursor()

# åˆ›å»ºå­¦ç”Ÿè¡¨
cursor.execute("""
CREATE TABLE IF NOT EXISTS students (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,
    student_id VARCHAR(20) UNIQUE NOT NULL,
    class VARCHAR(50)
)
""")

# åˆ›å»ºæˆç»©è¡¨
cursor.execute("""
CREATE TABLE IF NOT EXISTS scores (
    id INT PRIMARY KEY AUTO_INCREMENT,
    student_id VARCHAR(20),
    course VARCHAR(50),
    score FLOAT,
    FOREIGN KEY (student_id) REFERENCES students(student_id)
)
""")

conn.commit()
print("âœ… æ•°æ®è¡¨åˆ›å»ºæˆåŠŸï¼")
conn.close()
```

è¿è¡Œï¼š

```bash
python create_tables.py
```
![[public/images/Pasted image 20251211202135.png]]
![[public/images/Pasted image 20251211202122.png]]

**è¿™æ ·å°±æˆåŠŸäº†ï¼ï¼ï¼**
#### å¦‚æœè¿æ¥å¤±è´¥
æ£€æŸ¥rootç”¨æˆ·çš„hostæƒé™ï¼Œå¯èƒ½rootç”¨æˆ·åªå…è®¸ä»æŸäº›åœ°å€è¿æ¥ã€‚
åœ¨Workbenchä¸­æ‰§è¡Œï¼š
```sql
USE mysql;
SELECT host, user FROM user WHERE user='root';
```
**æŸ¥çœ‹ç»“æœï¼š**
- å¦‚æœåªæœ‰ `localhost`ï¼Œéœ€è¦æ·»åŠ  `127.0.0.1` æˆ– `%`
- æ·»åŠ æƒé™ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š
- ```sql
  -- åˆ›å»ºå…è®¸ä»127.0.0.1è¿æ¥çš„rootç”¨æˆ·
CREATE USER 'root'@'127.0.0.1' IDENTIFIED BY '123123';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'127.0.0.1' WITH GRANT OPTION;
FLUSH PRIVILEGES;
  ```
  ![[public/images/Pasted image 20251211201219.png]]
  ç„¶åè¿è¡Œæˆ–è€…å°è¯•æŠŠè¯•è¯•æŠŠ `127.0.0.1` æ”¹æˆ `localhost`ï¼š
  ```
  DB_CONFIG = {
    'host': 'localhost',  # â† æ”¹è¿™é‡Œ
    'port': 3306,
  ```
![[public/images/Pasted image 20251211201850.png]]