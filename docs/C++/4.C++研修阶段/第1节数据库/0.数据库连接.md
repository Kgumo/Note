# Mysql
**设置M ySQL 的安装路径和数据存储路径，确保路径中没有中文和特殊字符。**
**设置M ySQL 的安装路径和数据存储路径，确保路径中没有中文和特殊字符。**
**设置M ySQL 的安装路径和数据存储路径，确保路径中没有中文和特殊字符。**
## **1.安装**
官网网址：下载**server**[MySQL :: Download MySQL Community Server](https://dev.mysql.com/downloads/mysql/)
选择：**MySQL Installer for Windows**
![](public/images/20251211161133.png)
### **安装过程**

**启动安装程序后：**
#### **步骤1：选择安装类型**

- 选择：**Developer Default**（开发者默认，包含MySQL Server、Workbench等）**（默认C盘）**
- 或选择：**Custom**（自定义，可以只装Server）（**可以改文件位置**）
#### **步骤2：检查依赖**

- 如果提示缺少Visual C++，点击Execute自动安装
#### **步骤3：安装**

- 点击Execute开始安装所有组件

之后是配置面板

![](public/images/20251211161330.png)
之后配置路径
#### **步骤4：配置MySQL Server*
**Type and Networking：**
- Config Type: **Development Computer**
- Port: **3306**（默认）
- 勾选：**Open Windows Firewall ports**
可以参考我的  端口号不要改变 默认即可 3306
![](public/images/20251211162130.png)
之后密码
设置root密码：**设置一个你能记住的密码**（重要！）
简单的即可，没人记你的 
比如123123  123456等等随意
可以添加其他用户（可选）
然后**next**
Next之后
**Windows Service：**
- 勾选：**Configure MySQL Server as a Windows Service**
- Service Name: **MySQL80**（数据库名字 尽量不要出现中文）
- 勾选：**Start the MySQL Server at System Startup**
  参考
  ![](public/images/20251211162614.png)
- **之后next next**
- #### **步骤5：Apply Configuration**
- 点击Execute应用配置
- 等待完成后点击Finish
- ![](public/images/20251211162719.png)
之后打开CMD
win+R 输入cmd
输入
```sql
mysql --version
```
如果没显示版本号等，那就说明没有设置环境变量
- #### **步骤6：设置环境变量**
- **win+i**  系统-》高级系统设置->环境变量-> 系统变量->找到Path 双击 之后点击新建
  之后输入你MySQL安装的位置的**bin**目录 复制 填入新建 然后确定 确定 确定
- 或者参考这个
- 右键点击“此电脑”选择“属性”，点击“高级系统设置”。 在系统属性窗口中，点击“环境变量”。 在“系统变量”区域找到 Path 变量，点击“编辑”，在打开的窗口中点击“新建”，添加 MySQL 的bin目 录路径（例如 C:\Program Files\MySQL\MySQL Server 8.0\bin）。 确认环境变量设置后，重新打开命令提示符，输入 mysql --version 确认环境变量配置成功
![](public/images/20251211163340.png)

![](public/images/20251211163506.png)
双击 之后点击新建
  之后输入你MySQL安装的位置的**bin**目录 复制
![](public/images/20251211163717.png)

![](public/images/20251211163735.png)
之后打开CMD
win+R 输入cmd
输入
```sql
mysql --version


```
![](public/images/20251211164001.png)

- #### 验证安装
 打开命令提示符（ cmd ），输入 mysql -u 你在配置的时候输入的用户名 -p命令，输入之前设置的密 码登录 MySQL 。 输入s tatus 命令查看 MySQL 的版本信息，确认安装成功。
**mysql -u root -p** 然后密码
![](public/images/20251211164451.png)

数据库可视化面板 下载地址： https://dev.mysql.com/downloads/file/?id=528765  自己安装（**只是可视化的，后续的方便验证，辅助工具**）
![](public/images/20251211164728.png)
然后打开就是下载的可视化的
![](public/images/20251211165843.png)
之后点击 **+**
![](public/images/20251211170100.png)![](public/images/20251211170410.png)
其他不变
但要保证地址必须是它**127.0.0.1**  本地地址
然后**OK**
![](public/images/20251211170647.png)

## **2.C++/C API接口**
参考
其中不使用C++的接口而是C的接口，因为难用C++也可以使用C的
为什么下载API ，因为直接在终端操作数据库很麻烦，程序员写脚本最快了就是花时间去解决以后无数个小麻烦
![](public/images/20251211171327.png)

## **3.python的API接口**

#### 第一步：安装Python的MySQL连接库
在VS Code中打开终端（Terminal），输入：
```bash
pip install pymysql
```
或者
```bash
pip install mysql-connector-python
```

（推荐用第一个pymysql，更简单）
#### 第二步：测试数据库连接

创建一个测试文件 `test_db.py`：

```python
import pymysql

# 测试连接
try:
    conn = pymysql.connect(
        host='127.0.0.1',
        port=3306,
        user='root',
        password='123123',
        database='keshe'
    )
    print("数据库连接成功！")
    conn.close()
except Exception as e:
    print(f"连接失败：{e}")
```
运行这个文件：
```bash
python test_db.py
```
#### 第三步：创建数据表
如果连接失败，继续往后看
如果连接成功，
##### **创建数据库**
在Workbench中执行：
```sql
CREATE DATABASE 你的数据库名如keshe CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
CREATE DATABASE keshe CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
```
**操作步骤：**
1. 在Workbench中打开一个新的Query标签
2. 输入上面的命令
3. 点击执行 ⚡
4. 左侧SCHEMAS点击刷新按钮 🔄
5. 应该能看到 `keshe` 数据库了

示例创建 `create_tables.py`：

```python
import pymysql

conn = pymysql.connect(
    host='127.0.0.1',
    port=3306,
    user='root',
    password='123123',
    database='keshe'
)

cursor = conn.cursor()

# 创建学生表
cursor.execute("""
CREATE TABLE IF NOT EXISTS students (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,
    student_id VARCHAR(20) UNIQUE NOT NULL,
    class VARCHAR(50)
)
""")

# 创建成绩表
cursor.execute("""
CREATE TABLE IF NOT EXISTS scores (
    id INT PRIMARY KEY AUTO_INCREMENT,
    student_id VARCHAR(20),
    course VARCHAR(50),
    score FLOAT,
    FOREIGN KEY (student_id) REFERENCES students(student_id)
)
""")

conn.commit()
print("✅ 数据表创建成功！")
conn.close()
```

运行：

```bash
python create_tables.py
```
![](public/images/20251211202135.png)
![](public/images/20251211202122.png)

**这样就成功了！！！**
#### 如果连接失败
检查root用户的host权限，可能root用户只允许从某些地址连接。
在Workbench中执行：
```sql
USE mysql;
SELECT host, user FROM user WHERE user='root';
```
**查看结果：**
- 如果只有 `localhost`，需要添加 `127.0.0.1` 或 `%`
- 添加权限（如果需要）：
- ```sql
  -- 创建允许从127.0.0.1连接的root用户
CREATE USER 'root'@'127.0.0.1' IDENTIFIED BY '123123';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'127.0.0.1' WITH GRANT OPTION;
FLUSH PRIVILEGES;
  ```
  ![](public/images/20251211201219.png)
  然后运行或者尝试把试试把 `127.0.0.1` 改成 `localhost`：
  ```
  DB_CONFIG = {
    'host': 'localhost',  # ← 改这里
    'port': 3306,
  ```
![](public/images/20251211201850.png)